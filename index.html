<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ù…Ù„Ø© Ø§Ù„Ø®ÙŠØ± 2</title>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAVacEYZNH0jIimwurEE0g4mTRUz1RvkT0",
  authDomain: "waste-sorting-ai-36421.firebaseapp.com",
  projectId: "waste-sorting-ai-36421",
  storageBucket: "waste-sorting-ai-36421.firebasestorage.app",
  messagingSenderId: "914592255386",
  appId: "1:914592255386:web:5d25982cf97bc85ca8fe23",
  measurementId: "G-134L1T4JEM"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const totalRef = ref(db, "total");

const basketPrice = 100; // Ø³Ø¹Ø± Ø§Ù„Ù‚ÙØ©
const goal = 100;

onValue(totalRef, (snapshot) => {
  let total = snapshot.val() || 0;
  document.getElementById("money").innerText = total.toLocaleString();

  let baskets = Math.floor(total / basketPrice);
  document.getElementById("baskets").innerText = baskets + " / 100 Ù‚ÙØ©";

  let percent = Math.min((baskets / goal) * 100, 100);
  document.getElementById("progress").style.width = percent + "%";
});
</script>

<style>
body{
  margin:0;
  font-family:Tahoma;
  direction:rtl;
  text-align:center;
  color:white;
  background: radial-gradient(circle at top,#102030,#08121f 70%);
  overflow:hidden;
}

/* Ù†Ø¬ÙˆÙ… */
body::before{
  content:"";
  position:absolute;
  width:100%;
  height:100%;
  background:url("https://i.imgur.com/9a8Q6pF.png");
  opacity:0.25;
  animation:stars 80s linear infinite;
}
@keyframes stars{
  from{background-position:0 0;}
  to{background-position:2000px 2000px;}
}

.logo{
  position:absolute;
  left:8%;
  top:20px;
  width:120px;
}

.lantern{
  position:absolute;
  right:8%;
  top:10px;
  width:120px;
  animation:swing 3s ease-in-out infinite;
  transform-origin:top center;
}
@keyframes swing{
  0%{transform:rotate(6deg);}
  50%{transform:rotate(-6deg);}
  100%{transform:rotate(6deg);}
}

.container{
  margin-top:100px;
  position:relative;
}

h1{
  font-size:42px;
  color:#FFD700;
}

.money{
  font-size:50px;
  margin:20px 0;
  color:#00ff99;
}

.baskets{
  font-size:26px;
  margin-bottom:20px;
}

.progress-bar{
  width:70%;
  margin:20px auto;
  background:#ffffff22;
  border-radius:40px;
  height:30px;
  overflow:hidden;
}

.progress-fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,gold,#00ff99);
  transition:width 1s ease;
}

.footer{
  margin-top:30px;
  font-size:20px;
}
</style>
</head>

<body>

<img src="logo.png" class="logo">
<img src="https://i.imgur.com/7Yj6KXG.png" class="lantern">

<div class="container">
  <h1>ğŸŒ™ Ø­Ù…Ù„Ø© Ø§Ù„Ø®ÙŠØ± 2 ğŸŒ™</h1>
  <div>Ù…Ø¹Ù‹Ø§ Ù†ØµÙ†Ø¹ Ø§Ù„ÙØ±Ù‚</div>

  <div class="money">
    ğŸ’° <span id="money">0</span> Ø¯ÙŠÙ†Ø§Ø±
  </div>

  <div class="baskets" id="baskets">
    0 / 100 Ù‚ÙØ©
  </div>

  <div class="progress-bar">
    <div class="progress-fill" id="progress"></div>
  </div>

  <div class="footer">
    â¤ï¸ Ù‡Ø¯ÙÙ†Ø§ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙØ±Ø­Ø© Ø¥Ù„Ù‰ 100 Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­ØªØ§Ø¬Ø©
  </div>
</div>

</body>
</html>