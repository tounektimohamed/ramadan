<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ù…Ù„Ø© Ø§Ù„Ø®ÙŠØ± 2</title>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAVacEYZNH0jIimwurEE0g4mTRUz1RvkT0",
  authDomain: "waste-sorting-ai-36421.firebaseapp.com",
  databaseURL: "https://waste-sorting-ai-36421-default-rtdb.firebaseio.com",
  projectId: "waste-sorting-ai-36421",
  storageBucket: "waste-sorting-ai-36421.appspot.com",
  messagingSenderId: "914592255386",
  appId: "1:914592255386:web:5d25982cf97bc85ca8fe23"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const totalRef = ref(db, "total");

const basketPrice = 100;
const goal = 100;

onValue(totalRef, (snapshot) => {
  let total = snapshot.val() || 0;

  document.getElementById("money").innerText = total.toLocaleString();

  let baskets = Math.floor(total / basketPrice);
  document.getElementById("baskets").innerText = baskets + " / 100 Ù‚ÙØ©";

  let percent = Math.min((baskets / goal) * 100, 100);
  document.getElementById("progress").style.width = percent + "%";
});
</script>

<style>
body{
  margin:0;
  font-family:Tahoma;
  direction:rtl;
  text-align:center;
  color:white;
  overflow:hidden;
  background:linear-gradient(to bottom,#0b1d2a,#08121f 70%);
}

/* Ù†Ø¬ÙˆÙ… */
body::before{
  content:"";
  position:absolute;
  width:100%;
  height:100%;
  background:
    radial-gradient(2px 2px at 20% 30%, white, transparent),
    radial-gradient(2px 2px at 70% 40%, white, transparent),
    radial-gradient(2px 2px at 50% 80%, white, transparent),
    radial-gradient(2px 2px at 90% 60%, white, transparent),
    radial-gradient(2px 2px at 10% 70%, white, transparent);
  animation:twinkle 3s infinite alternate;
  opacity:0.4;
}
@keyframes twinkle{
  from{opacity:0.3;}
  to{opacity:0.6;}
}

.logo{
  position:absolute;
  left:8%;
  top:20px;
  width:110px;
}

.lantern{
  position:absolute;
  right:8%;
  top:10px;
  width:110px;
  animation:swing 3s ease-in-out infinite;
  transform-origin:top center;
}
@keyframes swing{
  0%{transform:rotate(5deg);}
  50%{transform:rotate(-5deg);}
  100%{transform:rotate(5deg);}
}

.container{
  margin-top:120px;
}

h1{
  font-size:40px;
  color:#FFD700;
}

.money{
  font-size:50px;
  margin:20px 0;
  color:#00ff99;
}

.baskets{
  font-size:24px;
  margin-bottom:20px;
}

.progress-bar{
  width:70%;
  margin:20px auto;
  background:#ffffff22;
  border-radius:40px;
  height:25px;
  overflow:hidden;
}

.progress-fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,gold,#00ff99);
  transition:width 1s ease;
}

.footer{
  margin-top:25px;
  font-size:18px;
}
</style>
</head>

<body>

<img src="logo.png" class="logo">
<img src="lantern.png" class="lantern">

<div class="container">
  <h1>ğŸŒ™ Ø­Ù…Ù„Ø© Ø§Ù„Ø®ÙŠØ± 2 ğŸŒ™</h1>
  <div>Ù…Ø¹Ù‹Ø§ Ù†ØµÙ†Ø¹ Ø§Ù„ÙØ±Ù‚</div>

  <div class="money">
    ğŸ’° <span id="money">0</span> Ø¯ÙŠÙ†Ø§Ø±
  </div>

  <div class="baskets" id="baskets">
    0 / 100 Ù‚ÙØ©
  </div>

  <div class="progress-bar">
    <div class="progress-fill" id="progress"></div>
  </div>

  <div class="footer">
    â¤ï¸ Ù‡Ø¯ÙÙ†Ø§ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙØ±Ø­Ø© Ø¥Ù„Ù‰ 100 Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­ØªØ§Ø¬Ø©
  </div>
</div>

</body>
</html>