<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ù…Ù„Ø© Ø§Ù„Ø®ÙŠØ± 2 - Ù†Ø¬ÙˆÙ… Ù…ØªÙ„Ø£Ù„Ø¦Ø©</title>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAVacEYZNH0jIimwurEE0g4mTRUz1RvkT0",
  authDomain: "waste-sorting-ai-36421.firebaseapp.com",
  databaseURL: "https://waste-sorting-ai-36421-default-rtdb.firebaseio.com",
  projectId: "waste-sorting-ai-36421",
  storageBucket: "waste-sorting-ai-36421.appspot.com",
  messagingSenderId: "914592255386",
  appId: "1:914592255386:web:5d25982cf97bc85ca8fe23"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const totalRef = ref(db, "total");

const basketPrice = 100;
const goal = 100;

onValue(totalRef, (snapshot) => {
  let total = snapshot.val() || 0;

  document.getElementById("money").innerText = total.toLocaleString();

  let baskets = Math.floor(total / basketPrice);
  document.getElementById("baskets").innerText = baskets + " / 100 Ù‚ÙØ©";

  let percent = Math.min((baskets / goal) * 100, 100);
  document.getElementById("progress").style.width = percent + "%";
});
</script>

<style>
body{
  margin:0;
  font-family:Tahoma;
  direction:rtl;
  text-align:center;
  color:white;
  overflow:hidden;
  background:linear-gradient(to bottom,#0b1d2a,#08121f 70%);
  position: relative;
  min-height: 100vh;
}

/* ========== Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªÙ„Ø£Ù„Ø¦Ø© Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø© ========== */
.stars-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* ØªØ³Ù…Ø­ Ø¨Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø®Ù„ÙÙ‡Ø§ */
  z-index: 0;
  overflow: hidden;
}

.star {
  position: absolute;
  background-color: #fff;
  border-radius: 50%;
  box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
  animation: twinkle var(--duration) infinite alternate ease-in-out;
  opacity: 0;
  width: var(--size);
  height: var(--size);
  top: var(--y);
  left: var(--x);
}

/* Ù†Ø¬ÙˆÙ… Ø£ÙƒØ¨Ø± Ù…Ø¹ Ù‡Ø§Ù„Ø§Øª Ø°Ù‡Ø¨ÙŠØ© Ø®ÙÙŠÙØ© */
.star.special {
  background-color: #ffe484;
  box-shadow: 0 0 12px 4px #ffd700;
  animation-duration: 2.5s;
}

@keyframes twinkle {
  0% {
    opacity: 0.1;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
    background-color: #fffde7;
  }
  100% {
    opacity: 0.4;
    transform: scale(1);
  }
}

/* ØªØ­Ø³ÙŠÙ† Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†Ø¬ÙˆÙ… ÙÙŠ Ø§Ù„Ù†Ù‡Ø§Ø±/Ø§Ù„Ø®Ù„ÙÙŠØ© */
.logo{
  position:absolute;
  left:8%;
  top:20px;
  width:110px;
  z-index: 2;
}

.lantern{
  position:absolute;
  right:8%;
  top:10px;
  width:110px;
  animation:swing 3s ease-in-out infinite;
  transform-origin:top center;
  z-index: 2;
}
@keyframes swing{
  0%{transform:rotate(5deg);}
  50%{transform:rotate(-5deg);}
  100%{transform:rotate(5deg);}
}

.container{
  margin-top:120px;
  position: relative;
  z-index: 2;
  background-color: rgba(0, 0, 0, 0.3); /* Ø®Ù„ÙÙŠØ© Ø´Ø¨Ù‡ Ø´ÙØ§ÙØ© Ù„ØªØ­Ø³ÙŠÙ† Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ */
  padding: 20px;
  border-radius: 30px;
  width: 80%;
  margin-left: auto;
  margin-right: auto;
  backdrop-filter: blur(2px);
  border: 1px solid rgba(255,215,0,0.2);
  box-shadow: 0 0 30px rgba(0,0,0,0.5);
}

h1{
  font-size:40px;
  color:#FFD700;
  text-shadow: 0 0 15px gold;
}

.money{
  font-size:50px;
  margin:20px 0;
  color:#00ff99;
  text-shadow: 0 0 10px #00ff99;
}

.baskets{
  font-size:24px;
  margin-bottom:20px;
}

.progress-bar{
  width:70%;
  margin:20px auto;
  background:#ffffff22;
  border-radius:40px;
  height:25px;
  overflow:hidden;
  border: 1px solid #FFD70055;
}

.progress-fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,gold,#00ff99);
  transition:width 1s ease;
  box-shadow: 0 0 20px #00ff99;
}

.footer{
  margin-top:25px;
  font-size:18px;
  color: #ffe4b5;
}
</style>
</head>
<body>

<!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªÙ„Ø£Ù„Ø¦Ø© Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
<div class="stars-container" id="stars-container"></div>

<img src="logo.png" class="logo" alt="logo" onerror="this.style.display='none'">
<img src="lantern.png" class="lantern" alt="lantern" onerror="this.style.display='none'">

<div class="container">
  <h1>ğŸŒ™ Ø­Ù…Ù„Ø© Ø§Ù„Ø®ÙŠØ± 2 ğŸŒ™</h1>
  <div>Ù…Ø¹Ù‹Ø§ Ù†ØµÙ†Ø¹ Ø§Ù„ÙØ±Ù‚</div>

  <div class="money">
    ğŸ’° <span id="money">0</span> Ø¯ÙŠÙ†Ø§Ø±
  </div>

  <div class="baskets" id="baskets">
    0 / 100 Ù‚ÙØ©
  </div>

  <div class="progress-bar">
    <div class="progress-fill" id="progress"></div>
  </div>

  <div class="footer">
    â¤ï¸ Ù‡Ø¯ÙÙ†Ø§ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙØ±Ø­Ø© Ø¥Ù„Ù‰ 100 Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­ØªØ§Ø¬Ø©
  </div>
</div>

<script>
(function() {
  // Ø¯Ø§Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¬ÙˆÙ… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…ØªÙ„Ø£Ù„Ø¦Ø©
  function createStars() {
    const container = document.getElementById('stars-container');
    if (!container) return;
    
    // ØªÙ†Ø¸ÙŠÙ Ø£ÙŠ Ù†Ø¬ÙˆÙ… Ø³Ø§Ø¨Ù‚Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠØŒ Ù„ÙƒÙ†Ù†Ø§ Ù†Ø±ÙŠØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
    // container.innerHTML = ''; // ÙŠÙ…ÙƒÙ† Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
    
    const numberOfStars = 200; // Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ø¬ÙˆÙ…
    
    for (let i = 0; i < numberOfStars; i++) {
      const star = document.createElement('div');
      star.classList.add('star');
      
      // Ù…ÙˆÙ‚Ø¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
      const x = Math.random() * 100; // %
      const y = Math.random() * 100; // %
      
      // Ø­Ø¬Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨ÙŠÙ† 1px Ùˆ 5px
      const size = Math.random() * 4 + 1; // 1px - 5px
      
      // Ù…Ø¯Ø© Ø§Ù„ÙˆÙ…ÙŠØ¶ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨ÙŠÙ† 1.5s Ùˆ 4s
      const duration = Math.random() * 3 + 1.5; // 1.5s - 4.5s
      
      // ØªØ£Ø®ÙŠØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„ØªØ¨Ø¯Ø£ Ø§Ù„Ø£ÙˆÙ…ÙŠØ¶ ÙÙŠ Ø£ÙˆÙ‚Ø§Øª Ù…Ø®ØªÙ„ÙØ©
      const delay = Math.random() * 5; // 0s - 5s
      
      // Ø¨Ø¹Ø¶ Ø§Ù„Ù†Ø¬ÙˆÙ… ØªÙƒÙˆÙ† Ø®Ø§ØµØ© (Ø£ÙƒØ¨Ø± ÙˆÙ„Ù…Ø¹Ø§Ù† Ø°Ù‡Ø¨ÙŠ) Ø¨Ø§Ø­ØªÙ…Ø§Ù„ 15%
      if (Math.random() < 0.15) {
        star.classList.add('special');
      }
      
      // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø®ØµØµØ©
      star.style.setProperty('--x', x + '%');
      star.style.setProperty('--y', y + '%');
      star.style.setProperty('--size', size + 'px');
      star.style.setProperty('--duration', duration + 's');
      star.style.left = x + '%';
      star.style.top = y + '%';
      star.style.width = size + 'px';
      star.style.height = size + 'px';
      star.style.animationDelay = delay + 's';
      
      container.appendChild(star);
    }
  }
  
  // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
  window.addEventListener('load', createStars);
})();
</script>

<!-- Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØµÙˆØ± logo.png Ùˆ lantern.png ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© Ù„ÙƒÙ† ØªÙ… Ø¥Ø®ÙØ§Ø¤Ù‡Ø§ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ -->
</body>
</html>